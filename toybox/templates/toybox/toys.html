
{% extends "toybox\base.html" %}



{% block content %}


<h1  class="page-header">Toys</h1>



<div class="row">
    <div class="panel-fluid panel-default col-xs-11">
        {% include "toybox/toy_summary.html" %}
    </div>
</div>

<div class="row">
    <div class="panel-fluid panel-default col-xs-11">
        {% include "toybox/toy_history.html" %}
    </div>
</div>

<form role="form" action="{{ request.get_full_path }}" class="form-group" method='post'>
    {% csrf_token %}

<button class="btn btn-default" id="btn_stocktake_checked" name="btn_stocktake_checked" type="submit" >Stocktake Selected</button>
 <br>
 <br>

<div class="row">

    <div class="panel-fluid panel-default col-xs-11">
        <div class="panel-heading">Toy List</div>
            <table  data-toggle="table" data-click-to-select="true" class="table table-condensed"  data-id-field="id" data-select-item-name="stocktake" data-filter-control="true" data-toggle="table"  id="table-custom-sort"  data-sort-name="id" data-sort-order="desc" data-search="true" showColumns="true" data-show-columns="true" data-pagination="true" data-page-size="20"  data-page-list='[20, 50, 100, 200, 300, 500]'>


                    <thead>
                        <tr>
                            <th data-field="id" class="hidden">id</th>
                            <th data-field="checked"  data-checkbox="true" data-check-box-header="false" data-align="center" ></th>
                            <th data-field="last_stock_take"  data-sortable="true">Last Stocktake</th>
                            <th data-field="code"  data-sortable="true" data-filter-control="input">ID</th>
                            <th data-field="name"  data-sortable="true" data-filter-control="input">Name</th>

                            <th data-field="state"  data-sortable="true" data-filter-control="select">State</th>
                            <th data-field="category"  data-sortable="true" data-filter-control="select">Category</th>
                            <th data-field="borrow_counter"  data-sortable="true" data-filter-control="select">Usage<br> (Wks)</th>
                            <th data-field="last_check"  data-sortable="true" >Last Check</th>

                       	</tr>
                    </thead>


                  {% for toy in toys %}
                  <tr>
                      <td class="hidden">{{toy.id}}</td>
                      <td></td>
                      <td>{{toy.last_stock_take}}</td>


                        <td>
                            <!--{{toy.code}} column is sorted by entire cell contents, keep this comment here -->
                            <a href="{% url 'toybox:toys' toy_id=toy.id %}">
                                {{toy.code}}
                            </a>
                        </td>
                        <td>
                            <!--{{toy.name}} column is sorted by entire cell contents, keep this comment here -->
                            <a href="{% url 'toybox:toys' toy_id=toy.id %}">
                                {{toy.name}}
                            </a>
                        </td>
                        <td>{{toy.get_state_display}}</td>
                        <td>{{toy.category.name}}</td>
                        <td>{{toy.borrow_counter}}</td>
                        <td>{{toy.last_check}}</td>

                        <!--<td style="text-align: center;vertical-align: middle;">-->
                            <!--<input type="checkbox" name="checked_checkbox_{{ toy.id }}" value="{{ toy.id }}" id="checked_checkbox_{{ toy.id }}" />-->
                        <!--</td>-->

                  </tr>
                  {% endfor %}
            </table>
        </div>
      </div>

</div>
 </form>
{% endblock content %}
